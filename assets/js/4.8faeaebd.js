(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{181:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},(function(){var s=this.$createElement;this._self._c;return this._m(0)}),[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"centos-配置-ftp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-配置-ftp","aria-hidden":"true"}},[s._v("#")]),s._v(" centos 配置 ftp")]),t("p",[s._v("最近在学习 linux 下的服务器配置，在 linux 下设置 ftp ，所以在网上查找了一些资料，综合各路大神的经验总结了自己在 centos6.5 下的配置过程。")]),t("h2",{attrs:{id:"更新-yum-源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新-yum-源","aria-hidden":"true"}},[s._v("#")]),s._v(" 更新 yum 源")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum check-update\nyum update\n")])])]),t("h2",{attrs:{id:"安装-vsftp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-vsftp","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装 vsftp")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" vsftpd -y\n")])])]),t("h2",{attrs:{id:"添加-ftp-帐号和目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-ftp-帐号和目录","aria-hidden":"true"}},[s._v("#")]),s._v(" 添加 ftp 帐号和目录")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -d /home/www/ -s /sbin/nologin user1\n")])])]),t("h2",{attrs:{id:"添加-user1-用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-user1-用户","aria-hidden":"true"}},[s._v("#")]),s._v(" 添加 user1 用户")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 user1 用户的主目录为 /home/www")]),s._v("\n-d /home/www/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制 user1 用户不能远程登录，只能进行 ftp")]),s._v("\n-s /sbin/nologin\n")])])]),t("h2",{attrs:{id:"更改用户相应的权限设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更改用户相应的权限设置","aria-hidden":"true"}},[s._v("#")]),s._v(" 更改用户相应的权限设置")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更改用户 user1 的主目录为 /home")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -d /home user1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复用户 uer1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -s /sbin/bash user1\n")])])]),t("h2",{attrs:{id:"修改账户密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改账户密码","aria-hidden":"true"}},[s._v("#")]),s._v(" 修改账户密码")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" user1\n")])])]),t("h2",{attrs:{id:"配置-vsftp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-vsftp","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置 vsftp")]),t("p",[s._v("编辑 vsftp 配置文件：")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/vsftpd/vsftpd.conf\n")])])]),t("p",[s._v("将配置文件中 "),t("code",[s._v("anonymous_enable=YES")]),s._v(" 改为 "),t("code",[s._v("anonymous_enable=NO")]),s._v(" 禁止匿名访问。")]),t("p",[s._v("限制用户只能访问 "),t("code",[s._v("/home/www")]),s._v("，不能访问其他路径：")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制访问自身目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chroot_list_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定用户列表文件，该文件用于控制哪些用户可以切换到用户家目录的上级目录，每个用户名一行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chroot_list_file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/vsftpd/chroot_list\n")])])]),t("p",[s._v("以上操作可有以下几种搭配：")]),t("ul",[t("li",[t("p",[s._v("当 "),t("code",[s._v("chroot_list_enable=YES")]),t("code",[s._v("chroot_local_user=YES")]),s._v(" 时，在 "),t("code",[s._v("/etc/vsftpd/chroot_list")]),s._v(" 文件中列出的用户，可以切换到其他目录；未在文件中列出的用户，不能切换到其他目录。")])]),t("li",[t("p",[s._v("当 "),t("code",[s._v("chroot_list_enable=YES")]),t("code",[s._v("chroot_local_user=NO")]),s._v(" 时，在 "),t("code",[s._v("/etc/vsftpd/chroot_list")]),s._v(" 文件中列出的用户，不能切换到其他目录；未在文件中列出的用户，可以切换到其他目录。")])]),t("li",[t("p",[s._v("当 "),t("code",[s._v("chroot_list_enable=NO")]),t("code",[s._v("chroot_local_user=YES")]),s._v(" 时，所有的用户均不能切换到其他目录。")])]),t("li",[t("p",[s._v("当 "),t("code",[s._v("chroot_list_enable=NO")]),t("code",[s._v("chroot_local_user=NO")]),s._v(" 时，所有的用户均可以切换到其他目录。")])])]),t("h2",{attrs:{id:"设置开机启动-vsftpd-ftp-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置开机启动-vsftpd-ftp-服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 设置开机启动 vsftpd ftp 服务")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" vsftpd on\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 vsftp 服务并测试登录")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" vsftpd start\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" vsftpd restart\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" vsftpd stop\n")])])]),t("h2",{attrs:{id:"相关问题解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相关问题解决","aria-hidden":"true"}},[s._v("#")]),s._v(" 相关问题解决")]),t("p",[s._v("如果登录 ftp 后，不能上传文件和创建文件夹，需要设置写入权限")]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 /home 目录下的所有文件及子目录的文件具备读、写、可执行权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /home\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是递归遍历子目录")]),s._v("\n-R\n")])])])])}],!1,null,null,null);a.default=r.exports}}]);